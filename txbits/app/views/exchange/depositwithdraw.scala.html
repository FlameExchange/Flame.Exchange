@(user: securesocial.core.SocialUser)(implicit request: RequestHeader, messages: Messages)
@import play.twirl.api.Html

@scripts = {
    <script src="@routes.Assets.at("js/depositwithdraw.js")"></script>
}

@drawer(collapsed: Boolean = true)(deposit:Html)(withdraw:Html) = {
    <div class="panel panel-default">
        <div class="panel-heading">
            <a class="panel-title clickable" data-toggle="collapse" data-parent="#depositwithdraw" href="#panel-{{currency}}">
                {{currency}} - @Messages("terminology.available"): <span class="money">{{balance.available}}</span>
            </a>
        </div>
        @if(collapsed){
        <div id="panel-{{currency}}" class="panel-collapse collapse">
        }else{
        <div id="panel-{{currency}}" class="panel-collapse collapse in">
        }
            <div class="panel-body">
                <div class="col-md-6">
                    @deposit
                </div>
                <div class="col-md-6">
                    @withdraw
                </div>
            </div>
        </div>
    </div>
}

@exchange._chrome(Messages("chrome.exchange.navigation.depositwithdraw.title"), "credit-card", scripts) {

<body>
  <!-- Sidenav -->
  <nav class="navbar navbar-vertical fixed-left navbar-expand-md navbar-light bg-white" id="sidenav-main">
    <div class="container-fluid">
      <!-- Toggler -->
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#sidenav-collapse-main" aria-controls="sidenav-main" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <!-- Brand -->
      <a class="pt-0" href="https://flame.exchange/dashboard">
        Flame.Exchange
      </a>
      <!-- User -->
      <ul class="nav align-items-center d-md-none">
        <li class="nav-item dropdown">
          <a class="nav-link nav-link-icon" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="ni ni-bell-55"></i>
          </a>
          <div class="dropdown-menu dropdown-menu-arrow dropdown-menu-right" aria-labelledby="navbar-default_dropdown_1">
            <a class="dropdown-item" href="#">Action</a>
            <a class="dropdown-item" href="#">Another action</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#">Something else here</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <div class="media align-items-center">
              <span class="avatar avatar-sm rounded-circle">
                <img alt="Image placeholder" src="assets/assets/img/theme/team-1-800x800.jpg">
              </span>
            </div>
          </a>
          <div class="dropdown-menu dropdown-menu-arrow dropdown-menu-right">
            <div class=" dropdown-header noti-title">
              <h6 class="text-overflow m-0">Welcome!</h6>
            </div>
            <a href="assets/examples/profile.html" class="dropdown-item">
              <i class="ni ni-single-02"></i>
              <span>My profile</span>
            </a>
            <a href="assets/examples/profile.html" class="dropdown-item">
              <i class="ni ni-settings-gear-65"></i>
              <span>Settings</span>
            </a>
            <a href="assets/examples/profile.html" class="dropdown-item">
              <i class="ni ni-calendar-grid-58"></i>
              <span>Activity</span>
            </a>
            <a href="assets/examples/profile.html" class="dropdown-item">
              <i class="ni ni-support-16"></i>
              <span>Support</span>
            </a>
            <div class="dropdown-divider"></div>
            <a href="#!" class="dropdown-item">
              <i class="ni ni-user-run"></i>
              <span>Logout</span>
            </a>
          </div>
        </li>
      </ul>
      <!-- Collapse -->
      <div class="collapse navbar-collapse" id="sidenav-collapse-main">
        <!-- Collapse header -->
        <div class="navbar-collapse-header d-md-none">
          <div class="row">
            <div class="col-6 collapse-brand">
              <a href="assets/index.html">
                <img src="assets/assets/img/brand/blue.png">
              </a>
            </div>
            <div class="col-6 collapse-close">
              <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#sidenav-collapse-main" aria-controls="sidenav-main" aria-expanded="false" aria-label="Toggle sidenav">
                <span></span>
                <span></span>
              </button>
            </div>
          </div>
        </div>
        <!-- Form -->
        <form class="mt-4 mb-3 d-md-none">
          <div class="input-group input-group-rounded input-group-merge">
            <input type="search" class="form-control form-control-rounded form-control-prepended" placeholder="Search" aria-label="Search">
            <div class="input-group-prepend">
              <div class="input-group-text">
                <span class="fa fa-search"></span>
              </div>
            </div>
          </div>
        </form>
        <!-- Navigation -->
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="https://flame.exchange/dashboard">
              <i class="ni ni-tv-2 text-primary"></i> Dashboard
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="exchange">
              <i class="ni ni-planet text-blue"></i> Exchange
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="depositwithdraw">
              <i class="ni ni-pin-3 text-orange"></i> Manage Funds
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="history">
              <i class="ni ni-single-02 text-yellow"></i> Account History
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="account">
              <i class="ni ni-bullet-list-67 text-red"></i> Account Info
            </a>
          </li>

        </ul>
        <!-- Divider -->
        <hr class="my-3">
        <!-- Heading -->
        <h6 class="navbar-heading text-muted">Other</h6>
        <!-- Navigation -->
        <ul class="navbar-nav mb-md-3">
		<li class="nav-item">
            <a class="nav-link" href="https://discord.gg/xU3Jer6">
              <i class="ni ni-bullet-list-67 text-red"></i> Discord server
            </a>
        </li>
		<li class="nav-item">
            <a class="nav-link" href="https://t.me/flameexchange">
              <i class="ni ni-bullet-list-67 text-red"></i> Telegram Channel
            </a>
        </li>
        </ul>
      </div>
    </div>
  </nav>
  <!-- Main content -->
  <div class="main-content">
    <!-- Top navbar -->
    <nav class="navbar navbar-top navbar-expand-md navbar-dark" id="navbar-main">
      <div class="container-fluid">
        <!-- Brand -->
        <a class="h4 mb-0 text-white text-uppercase d-none d-lg-inline-block" href="https://flame.exchange/dashboard">Dashboard</a>
        <!-- User -->
        <ul class="navbar-nav align-items-center d-none d-md-flex">
          <li class="nav-item dropdown">
            <a class="nav-link pr-0" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <div class="media align-items-center">
                <span class="avatar avatar-sm rounded-circle">
                  <!-- <img alt="Image placeholder" src="./assets/img/theme/team-4-800x800.jpg"> -->
                </span>
                <div class="media-body ml-2 d-none d-lg-block">
                  <span class="mb-0 text-sm  font-weight-bold">You</span>
                </div>
              </div>
            </a>
            <div class="dropdown-menu dropdown-menu-arrow dropdown-menu-right">
              <div class=" dropdown-header noti-title">
                <h6 class="text-overflow m-0">Welcome!</h6>
              </div>
              <a href="/account" class="dropdown-item">
                <i class="ni ni-settings-gear-65"></i>
                <span>Settings</span>
              </a>
              <a href="/history" class="dropdown-item">
                <i class="ni ni-calendar-grid-58"></i>
                <span>Activity</span>
              </a>
              <a href="https://discord.gg/xU3Jer6" class="dropdown-item">
                <i class="ni ni-support-16"></i>
                <span>Support Server</span>
              </a>
              <div class="dropdown-divider"></div>
              <a href="/logout" class="dropdown-item">
                <i class="ni ni-user-run"></i>
                <span>Logout</span>
              </a>
            </div>
          </li>
        </ul>
      </div>
    </nav>
        <!-- Header -->
    <div class="header bg-gradient-primary pb-8 pt-5 pt-md-8">
      <div class="container-fluid">
        <div class="header-body">
        </div>
      </div>
    </div>
    <!-- Page content -->
    <div class="container-fluid">
      <div class="row">
        <div class="col-xl-8 mb-5 mb-xl-0 pt-5">

    <div class="row">
        <div class="col-sm-12">
            <div id="depositwithdraw" class="panel-group">
            </div>
        </div>
    </div>

	<div class="modal fade" id="withdrawConfirm" tabindex="-1" role="dialog" aria-labelledby="withdrawConfirm" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
<div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <h4 class="modal-title">@Messages("depositwithdraw.withdraw.modal.confirmwithdrawal")</h4>
          </div>
          <div class="modal-body">
            <p>@Messages("depositwithdraw.withdraw.modal.areyousurewithdraw")
                <span id="withdraw-confirm-amount"></span>
                <span id="withdraw-confirm-currency1"></span>
                @Messages("depositwithdraw.withdraw.modal.to")
                <span id="withdraw-confirm-address"></span>
                @Messages("depositwithdraw.withdraw.modal.andreceive")
                <span id="withdraw-confirm-value"></span>
                <span id="withdraw-confirm-currency2"></span>
                @Messages("depositwithdraw.withdraw.modal.afterthewithdrawalfeeof")
                <span id="withdraw-confirm-fee"></span>
                <span id="withdraw-confirm-currency3"></span>?
            </p>
            <form class="form-horizontal" role="form" id="withdraw-confirm-tfa-form">
                <label for="tfa" class="col-sm-12">@Messages("terminology.code")</label>
                <div class="col-sm-12">
                    <input class="form-control" placeholder="000000" id="withdraw-confirm-tfa" name="tfa" type="text">
                </div>
            </form>
            <div class="clearfix"></div>
          </div>
          <div class="modal-footer">
            <button type="button" id="withdraw-confirm-cancel" class="btn btn-default" data-dismiss="modal">@Messages("terminology.cancel")</button>
            <button type="button" id="withdraw-confirm-submit" class="btn btn-primary">@Messages("depositwithdraw.withdraw.modal.requestwithdrawal")</button>
          </div>
        </div><!-- /.modal-content -->
  </div>
</div>
<!--
    <div class="modal fade" id="withdraw-confirm-modal" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <h4 class="modal-title">@Messages("depositwithdraw.withdraw.modal.confirmwithdrawal")</h4>
          </div>
          <div class="modal-body">
            <p>@Messages("depositwithdraw.withdraw.modal.areyousurewithdraw")
                <span id="withdraw-confirm-amount"></span>
                <span id="withdraw-confirm-currency1"></span>
                @Messages("depositwithdraw.withdraw.modal.to")
                <span id="withdraw-confirm-address"></span>
                @Messages("depositwithdraw.withdraw.modal.andreceive")
                <span id="withdraw-confirm-value"></span>
                <span id="withdraw-confirm-currency2"></span>
                @Messages("depositwithdraw.withdraw.modal.afterthewithdrawalfeeof")
                <span id="withdraw-confirm-fee"></span>
                <span id="withdraw-confirm-currency3"></span>?
            </p>
            <form class="form-horizontal" role="form" id="withdraw-confirm-tfa-form">
                <label for="tfa" class="col-sm-12">@Messages("terminology.code")</label>
                <div class="col-sm-12">
                    <input class="form-control" placeholder="000000" id="withdraw-confirm-tfa" name="tfa" type="text">
                </div>
            </form>
            <div class="clearfix"></div>
          </div>
          <div class="modal-footer">
            <button type="button" id="withdraw-confirm-cancel" class="btn btn-default" data-dismiss="modal">@Messages("terminology.cancel")</button>
            <button type="button" id="withdraw-confirm-submit" class="btn btn-primary">@Messages("depositwithdraw.withdraw.modal.requestwithdrawal")</button>
          </div>
        </div>
      </div>
    </div>
	-->

    <script id="crypto-withdraw-form-template" type="text/x-handlebars-template">
        <h3>@Messages("depositwithdraw.withdraw.title")</h3>
        <form class="form-horizontal" role="form" id="withdraw-{{currency}}">
            <div class="form-group">
                <label for="address" class="col-sm-12">@Messages("depositwithdraw.withdraw.address")</label>
                <div class="col-sm-12">
                    <input class="form-control address adressInputStyle" name="address" type="text" id="addressInput">
                </div>
            </div>
            <div class="form-group">
                <label for="available" class="col-sm-12 control-label">@Messages("terminology.available") -- {{currency}}</label>
                <div class="col-sm-12">
                    <div class="input-group">
                        <input class="form-control available" name="available" type="text" value="{{balance.available}}" disabled>
                        <!-- <span class="input-group-addon">{{currency}}</span> -->
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="amount" class="col-sm-12 control-label">@Messages("terminology.amount") -- {{currency}}</label>
                <div class="col-sm-12">
                    <div class="input-group">
                        <input class="form-control amount" name="amount" type="text">
                        <!-- <span class="input-group-addon">{{currency}}</span> -->
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="fee" class="col-sm-12 control-label">@Messages("terminology.fee") -- {{currency}}</label>
                <div class="col-sm-12">
                    <div class="input-group">
                        <input class="form-control fee" name="fee" type="text" disabled>
                        <!-- <span class="input-group-addon">{{currency}}</span> -->
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="value" class="col-sm-12 control-label">@Messages("terminology.value") -- {{currency}}</label>
                <div class="col-sm-12">
                    <div class="input-group">
                        <input class="form-control value" name="value" type="text" disabled>
                        <!-- <span class="input-group-addon">{{currency}}</span> -->
                    </div>
                </div>
            </div>
            <button type="submit" id="submitWithdraw" class="btn withdraw btn-default withdraw_confirm" data-toggle="modal" data-target="#withdrawConfirm"">@Messages("depositwithdraw.withdraw.button")</button>
			</form>

        <p>@Messages("depositwithdraw.withdraw.info")</p>
        <p>@Messages("depositwithdraw.withdraw.fees"): {{withdraw_linear}}% + {{withdraw_constant}} {{currency}}</p>
        <p>@Messages("depositwithdraw.withdraw.limit.min"): {{limit_min}} {{currency}}</p>
        <p>@Messages("depositwithdraw.withdraw.limit.max"): {{limit_max}} {{currency}}</p>
    </script>

    <script id="pending-w-template" type="text/x-handlebars-template">
        {{#each pending_w}}
        <tr>
            <td>{{created}}</td>
            <td>{{amount}}</td>
            <td>{{fee}}</td>
            <td>{{info}}</td>
            <td>{{status}}</td>
        </tr>
        {{/each}}
    </script>

    <script id="pending-w-crypto-template" type="text/x-handlebars-template">
        <h3>@Messages("depositwithdraw.pending.withdraw.title")</h3>
        <table class="table table-striped responsive">
            <thead>
                <tr>
                    <th>@Messages("terminology.requested")</th>
                    <th class="money-heading">@Messages("terminology.amount")</th>
                    <th class="money-heading">@Messages("terminology.fee")</th>
                    <th>@Messages("terminology.address")</th>
                    <th>@Messages("terminology.status")</th>
                </tr>
            </thead>
            <tbody>
                {{> pending-w}}
            </tbody>
        </table>
    </script>

    <script id="pending-d-template" type="text/x-handlebars-template">
        {{#each pending_d}}
        <tr>
            <td>{{created}}</td>
            <td>{{amount}}</td>
            <td>{{fee}}</td>
            <td>{{info}}</td>
        </tr>
        {{/each}}
    </script>

    <script id="pending-d-crypto-template" type="text/x-handlebars-template">
        <h3>@Messages("depositwithdraw.pending.deposit.title")</h3>
        <table class="table table-striped responsive">
            <thead>
                <tr>
                    <th>@Messages("terminology.requested")</th>
                    <th class="money-heading">@Messages("terminology.amount")</th>
                    <th class="money-heading">@Messages("terminology.fee")</th>
                    <th>@Messages("terminology.address")</th>
                </tr>
            </thead>
            <tbody>
                {{> pending-d}}
            </tbody>
        </table>
    </script>

    <script id="pending-w-fiat-template" type="text/x-handlebars-template">
        {{#if pending_w}}
        <h3>@Messages("depositwithdraw.pending.withdraw.title")</h3>
        <table class="table table-striped responsive">
            <thead>
                <tr>
                    <th>@Messages("terminology.requested")</th>
                    <th>@Messages("terminology.amount")</th>
                    <th>@Messages("terminology.fee")</th>
                    <th>@Messages("terminology.account")</th>
                    <th>@Messages("terminology.status")</th>
                </tr>
            </thead>
            <tbody>
                {{> pending-w}}
            </tbody>
        </table>
        {{/if}}
    </script>

    <script id="crypto-deposit-template" type="text/x-handlebars-template">
        <h3>@Messages("depositwithdraw.deposit.title")</h3>
        <div id="deposit-addresses">
            <p>@Messages("depositwithdraw.deposit.current_address")</p>
            <div class="center-block qr-code" id="deposit-{{currency}}-qr"></div>
            <div class="text-center crypto-address">{{main_address}}</div>
            {{#if addresses}}
            <p>@Messages("depositwithdraw.deposit.past_addresses")</p>
            <ul>
                {{#each addresses}}
                <li><span class="crypto-address">{{.}}</span></li>
                {{/each}}
            </ul>
            {{/if}}
        </div>
        <p>@Messages("depositwithdraw.deposit.info")</p>
        <p>@Messages("depositwithdraw.deposit.fees"): {{deposit_linear}}% + {{deposit_constant}} {{currency}}</p>
        <p>@{Messages("depositwithdraw.deposit.requiredConfirms")} {{required_confirms}} @Messages("depositwithdraw.deposit.confirms")</p>
    </script>

    <script id="dw-fla-template" type="text/x-handlebars-template">
        @drawer(collapsed = true) {
            {{> crypto-deposit}}
            {{> pending-d-crypto}}
        } {
            {{> crypto-withdraw-form}}
            {{> pending-w-crypto}}
        }
    </script>
    <script id="dw-ltc-template" type="text/x-handlebars-template">
        @drawer(collapsed = true) {
            {{> crypto-deposit}}
            {{> pending-d-crypto}}
        } {
            {{> crypto-withdraw-form}}
            {{> pending-w-crypto}}
        }
    </script>

    <script id="dw-btc-template" type="text/x-handlebars-template">
        @drawer(collapsed = false) {
            {{> crypto-deposit}}
            {{> pending-d-crypto}}
        } {
            {{> crypto-withdraw-form}}
            {{> pending-w-crypto}}
        }
    </script>
        
    <script id="dw-boot-template" type="text/x-handlebars-template">
        @drawer(collapsed = true) {
            {{> crypto-deposit}}
            {{> pending-d-crypto}}
        } {
            {{> crypto-withdraw-form}}
            {{> pending-w-crypto}}
        }
    </script>
        
    <script id="dw-pirate-template" type="text/x-handlebars-template">
        @drawer(collapsed = true) {
            {{> crypto-deposit}}
            {{> pending-d-crypto}}
        } {
            {{> crypto-withdraw-form}}
            {{> pending-w-crypto}}
        }
    </script>
    <script id="dw-crcl-template" type="text/x-handlebars-template">
        @drawer(collapsed = true) {
            {{> crypto-deposit}}
            {{> pending-d-crypto}}
        } {
            {{> crypto-withdraw-form}}
            {{> pending-w-crypto}}
        }
    </script>
        
    <script id="dw-ezy-template" type="text/x-handlebars-template">
        @drawer(collapsed = true) {
            {{> crypto-deposit}}
            {{> pending-d-crypto}}
        } {
            {{> crypto-withdraw-form}}
            {{> pending-w-crypto}}
        }
    </script>
    <script id="dw-lytx-template" type="text/x-handlebars-template">
        @drawer(collapsed = true) {
            {{> crypto-deposit}}
            {{> pending-d-crypto}}
        } {
            {{> crypto-withdraw-form}}
            {{> pending-w-crypto}}
        }
    </script>
    <script id="dw-qrk2-template" type="text/x-handlebars-template">
        @drawer(collapsed = true) {
            {{> crypto-deposit}}
            {{> pending-d-crypto}}
        } {
            {{> crypto-withdraw-form}}
            {{> pending-w-crypto}}
        }
    </script>

    <script id="dw-cad-template" type="text/x-handlebars-template">
        @drawer(collapsed = true) {
            <h3>@Messages("depositwithdraw.deposit.title")</h3>
            <div id="deposit-cad">@Messages("depositwithdraw.deposit.cad.instructions")</div>
        } {
            <h3>@Messages("depositwithdraw.withdraw.title")</h3>
            <div id="withdraw-cad">@Messages("depositwithdraw.withdraw.cad.instructions")</div>
            <p>@Messages("depositwithdraw.withdraw.limit.min"): {{limit_min}}</p>
            <p>@Messages("depositwithdraw.withdraw.limit.max"): {{limit_max}}</p>
            {{> pending-w-fiat}}
        }
    </script>

    <script id="dw-usd-template" type="text/x-handlebars-template">
        @drawer(collapsed = true) {
            <h3>@Messages("depositwithdraw.deposit.title")</h3>
            <div id="deposit-usd">@Messages("depositwithdraw.deposit.usd.instructions")</div>
        } {
            <h3>@Messages("depositwithdraw.withdraw.title")</h3>
            <div id="withdraw-cad">@Messages("depositwithdraw.withdraw.usd.instructions")</div>
            <p>@Messages("depositwithdraw.withdraw.limit.min"): {{limit_min}}</p>
            <p>@Messages("depositwithdraw.withdraw.limit.max"): {{limit_max}}</p>
            {{> pending-w-fiat}}
        }
    </script>

	</div>
	</div>
</div>
  <footer class="py-5">
    <div class="container">
      <div class="row align-items-center justify-content-xl-between">
        <div class="col-xl-6">
          <div class="copyright text-center text-xl-left text-muted">
            &copy; 2018-2019 <a href="https://flame.exchange" class="font-weight-bold ml-1" target="_blank">Flame.Exchange</a>
          </div>
        </div>
        <div class="col-xl-6">
          <ul class="nav nav-footer justify-content-center justify-content-xl-end">
            <li class="nav-item">
              <a href="https://discord.gg/xU3Jer6" class="nav-link" target="_blank">Discord Server</a>
            </li>
            <li class="nav-item">
              <a href="https://www.blockchain.com/btc/payment_request?address=1LemonR7fZvco7Hg36ZNjy2MKKjhRgUwji&message=Donate+to+Flame.Exchange+:)" class="nav-link" target="_blank">Donate</a>
            </li>
            <li class="nav-item">
              <a href="https://goo.gl/CqqZ8D" class="nav-link" target="_blank">Coin listing form</a>
            </li>
			<li class="nav-item">
              <a href="https://goo.gl/TzziS1" class="nav-link" target="_blank">Report a Bug</a>
            </li>
            <li class="nav-item">
              <a href="https://goo.gl/rtrFoK" class="nav-link" target="_blank">What is Bitcoin?</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </footer>
    </div>
  </div>
    <!-- Argon Scripts -->
  <!-- Core -->
  <script src="/assets/assets/vendor/jquery/dist/jquery.min.js"></script>
  <script src="/assets/assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Optional JS -->
  <script src="/assets/assets/vendor/chart.js/dist/Chart.min.js"></script>
  <script src="/assets/assets/vendor/chart.js/dist/Chart.extension.js"></script>
  <!-- Argon JS -->
  <script src="/assets/assets/js/argon.js?v=1.0.0"></script>
}
